# 네트워크 7계층

- OSI모형은 컴퓨터 네트워크 프로토콜 디자인과 통신을 7계층으로 나누어 정의한것입니다. 각 계층은 서로 독립적으로 이루어져 있으며 하위계층의 기능만을 이용하고 상위계층에게 기능을 제공합니다.
- 이러한 계층을 통해 통신이 일어나는 과정을 단계별로 쉽게 파악할 수 있고, 모듈화시켰기 때문에 특정 계층에서 문제가 생겼을 때, 문제를 빠르게 파악하고 해결할 수 있습니다.
- 최하위 계층부터 물리, 데이터링크, 네트워크, 전송, 세션, 표현, 응용 계층으로 구성되어있습니다.



#### 1계층 : 물리계층(Pysical Layer)

- 실제 장치들을 연결하기 위해 필요한 기계적, 전기적, 기능적인 항목에 대한 특성을 규정하며, 상위계층에서 전송된 데이터를 케이블과 같은 물리적인 전송 매체를 통해 비트 형태로 전송합니다. 
- 이 계층에서는 데이터의 내용이나 에러와 상관없이 주고 받는 기능만 제공합니다.
- 해당하는 네트워크 장치에는 통신 케이블, 허브, 리피터 등이 있습니다.



#### 2계층 : 데이터링크 계층(Data Link Layer)

- 물리계층을 통해 송수신되는 정보의 오류와 흐름을 관리하여 안전한 **정보의 전달을 수행**할 수 있도록 도와주는 역할을 합니다. 즉, **에러검출/재전송/흐름제어**의 기능을 수행합니다.
- 데이터를 프레임이라는 논리적인 단위로 구성하고 맥주소를 가지고 데이터를 전달한다.
- 해당하는 네트워크 장치에는 브리지나 스위치 등이 있다.



#### 3계층 : 네트워크 계층(Network Layer)

- 이 계층에서 가장 중요한 기능은 **데이터를 목적지까지 가장 안전하고 빠르게 전달하는 기능(라우팅)**이며,데이터를 패킷 단위로 분할하여 전송합니다. 즉, 패킷을 최종 수신 측까지 정확하게 전송할 수 있도록 경로를 담당합니다. 또한 패킷경로를 결정하는 라우팅 이외에도 트래픽이 집중되지 않도록 하는 혼잡 제어, 패킷의 분할과 병합, 인터네트워킹 등의 역할을 수행합니다.

- 이 계층에서 동작하는 장치에는 라우터가 있습니다.



#### 4계층 : 전송 계층(Transport Layer)

- 통신을 활성화하기 위한 계층으로 포트를 열어서 응용프로그램들이 전송을 할 수 있게 하는 역할을 합니다. 즉, 보낼 데이터의 용량과 속도, 목적지 등을 처리합니다. 이 때의 전송단위는 Segments입니다.
- 이 계층의 예 중에서 가장 잘 알려진 것이 전송 제어 프로토콜(TCP)이며, 이는 인터넷 프로토콜(IP)위에 구축됩니다.
- 이 계층까지는 물리적인 계층에 속하며, 운영체제에서 시스템 콜 상태로 상위 계층에 제공합니다.



#### 5계층 : 세션 계층(Session Layer)

- 데이터가 통신하기 위한 논리적인 연결을 말하며, 응용프로그램 사이의 접속 설정 및 유지, 종료에 관한 세션 관리 기능, 데이터의 전송 순서 및 동기점의 위치를 제공하여 데이터 전송중에 오류가 발생할 경우 재전송하거나 데이터를 복구 할 수 있습니다.
- 이 계층은 TCP/IP세션을 만들고 없애는 책임을 가지고 있습니다. 4계층과 무관하게 응용 프로그램 관점에서의 기능을 수행합니다.



#### 6계층 : 표현 계층(Presentation Layer)

- 전송하는 데이터의 표현 방식에 관한 서비스를 제공합니다. 송신자와 수신자가 서로 다른 표현 방식을 사용하는 경우에 코드와 문자 등을 번역하여 일관되게 전송 데이터를 서로 이해할 수 있도록 하는 기능을 제공합니다.
- 데이터 표현이 상이한 응용프로세스의 독립성을 제공하고, 암호화 합니다.
- 예를 들어 해당 데이터가 TEXT인지, 그림인지, GIF인지 JPG인지의 구분 등을 수행합니다.



#### 7계층 : 응용 계층(Application Layer)

- 응용 프로그램과 연계하여 사용자에게 편리한 환경을 제공하는 역할을 수행하며, 일반적으로 사용하는 SMTP, HTTP, FTP, TELNET등이 있습니다.
- 우리가 사용하는 브라우저나, 메일 프로그램은 프로토콜을 보다 쉽게 사용하게 해주는 응용프로그램으로, 모든 통신의 양 끝단은 응용프로그램이 아닌 프로토콜이라고 할 수 있습니다.



#### TCP(**Transmission Control Protocol**)

- OSI 계층모델의 관점에서 전송 계층(4계층)에 해당

- 양종단 호스트 내 프로세스 상호 간에 신뢰적인 연결지향성 서비스를 제공
  - IP의 비신뢰적인 최선형 서비스에다가 신뢰적인 연결지향성 서비스를 제공하게 됨
  - **신뢰적인 전송을 보장**함으로써, 어플리케이션 구현이 한층 쉬워지게 됨



**1. 신뢰성 있음 (Reliable)**

- 패킷 손실, 중복, 순서바뀜 등이 없도록 보장

- TCP 하위계층인 IP 계층의 신뢰성 없는 서비스에 대해 다방면으로 신뢰성을 제공

**2. 연결지향적 (Connection-oriented)**

- 같은 전송계층의 UDP가 비연결성(connectionless)인 것과는 달리, TCP는 연결지향적 임

- 이 경우, 느슨한 연결(Loosly Connected)을 갖으므로 강한 연결을 의미하는 

- 가상회선이라는 표현 보다는 오히려 연결지향적이라고 말함

- 연결 관리를 위한 연결설정 및 연결해제 필요     ☞ TCP 연결설정, TCP 연결종료

- 양단간 어플리케이션/프로세스는 TCP가 제공하는 연결성 회선을 통하여 서로 통신



#### **UDP 프로토콜(User Datagram Protocol)**



- 전송 계층의 통신 프로토콜의 하나 (TCP에 대비됨)

  \- **신뢰성이 낮은 프로토콜**로써 완전성을 보증하지 않으나, 

  \- 가상회선을 굳이 확립할 필요가 없고 유연하며 효율적 응용의 데이타 전송에 사용

 

**1. 비연결성이고, 신뢰성이 없으며, 순서화되지 않은 Datagram 서비스 제공** 

\- 메세지가 제대로 도착했는지 확인하지 않음 (확인응답 없음)

\- 수신된 메세지의 순서를 맞추지 않음 (순서제어 없음) 

\- 흐름 제어를 위한 피드백을 제공하지 않음 (흐름제어 없음)

\- 검사합을 제외한 특별한 오류 검출 및 제어 없음 (오류제어 거의 없음)

UDP를 사용하는 프로그램 쪽에서 오류제어 기능을 스스로 갖추어야 함

\- 데이터그램 지향의 전송계층용 프로토콜 (논리적인 가상회선 연결이 필요없음)

비연결접속상태 하에서 통신 



**2. 실시간 응용 및 멀티캐스팅 가능**

\- 빠른 요청과 응답이 필요한 실시간 응용에 적합

\- 여러 다수 지점에 전송 가능 (1:多)



**3. 헤더가 단순함**

\- UDP는 TCP 처럼 16 비트의 포트 번호를 사용하나,

\- 헤더는 고정크기의 8 바이트(TCP는 20 바이트) 만 사용

즉, 헤더 처리에 많은 시간과 노력을 요하지 않음



http://www.ciokorea.com/news/36536

https://shlee0882.tistory.com/110



